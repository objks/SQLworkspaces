CREATE TABLE member (
	num INT NOT NULL AUTO_INCREMENT,
	userid VARCHAR(15) NOT NULL ,
	passwd VARCHAR(8) NOT NULL,
	name VARCHAR(15) NOT NULL,
	age INT NOT NULL,
	mileage INT NOT NULL,
	job VARCHAR(30),
	addr VARCHAR(100) NOT NULL,
	reg_date DATE NOT NULL,
	PRIMARY KEY ( num )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;


INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id1','박연폭포','1234', 21, 0,'주부','부산시 동래구', '2016-05-01');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id2','권율','1235', 22, 0,'직장인','서울시 강남구', '2016-05-02');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id3','박문수','1236', 23, 10000,'직장인','부산시 동래구', '2016-05-03');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id4','이순신','1237', 24, 3000,'학생','경상남도 마산시', '2017-05-03');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id5','홍길동','1238', 25, 5000,'학생','경기도 남양주시', '2017-05-04');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id6','율곡','1239', 26, 0,'직장인','재주도 북제주', '2017-05-05');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id7','서화담','1240', 27, 6000,'직장인','서울시 강북구', '2017-05-06');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id8','이이','1241', 28, 0,'직장인','강원도 원주시', '2017-05-02');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id9','이황','1242', 29, 0,'직장인','서울시 강남구', '2017-05-03');
INSERT INTO member(userid, name, passwd, age, mileage, job, addr, reg_date) VALUES('id10','황진희','1243', 30, 1000,'주부','전라남도 광주시', '2017-05-04');


CREATE TABLE CATEGORY (
	CNUM INT NOT NULL AUTO_INCREMENT,
	CATEGORY_CODE VARCHAR(8) NOT NULL ,
	CATEGORY_NAME VARCHAR(30) NOT NULL,
	DELETE_CHK CHAR(1) NOT NULL,
	PRIMARY KEY ( CNUM )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;

INSERT INTO category(category_code, category_name, delete_chk) VALUES('00010000','전자제품','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00010001','TV','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00010002','컴퓨터','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00010003','MP3','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00010004','에어컨','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00020000','의류','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00020001','남방','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00020002','운동화','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00020003','바지','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00030000','도서','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00030001','시','N');
INSERT INTO category(category_code, category_name, delete_chk) VALUES('00030002','소설','N');


CREATE TABLE SUPPLY_COMP (
	NUM INT NOT NULL AUTO_INCREMENT,
	EP_CODE VARCHAR(5) NOT NULL ,
	EP_NAME VARCHAR(30) NOT NULL ,
	EM_ADDR VARCHAR(100) NOT NULL ,
	EP_PHONE VARCHAR(15) NOT NULL ,
	EP_CHARGE VARCHAR(10) NOT NULL ,
	REG_DATE DATE NOT NULL,
	PRIMARY KEY ( NUM )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;

INSERT INTO SUPPLY_COMP(EP_CODE,EP_NAME,EM_ADDR,EP_PHONE,EP_CHARGE,REG_DATE) VALUES('00001','공급업체A','부산시','111-111-1111','허균','2017-02-17');
INSERT INTO SUPPLY_COMP(EP_CODE,EP_NAME,EM_ADDR,EP_PHONE,EP_CHARGE,REG_DATE) VALUES('00002','공급업체B','서울시','222-222-2222','허균','2017-02-17');
INSERT INTO SUPPLY_COMP(EP_CODE,EP_NAME,EM_ADDR,EP_PHONE,EP_CHARGE,REG_DATE) VALUES('00003','공급업체C','대전시','333-333-3333','허균','2017-02-17');
INSERT INTO SUPPLY_COMP(EP_CODE,EP_NAME,EM_ADDR,EP_PHONE,EP_CHARGE,REG_DATE) VALUES('00004','공급업체D','인천시','444-444-4444','허균','2017-02-17');
INSERT INTO SUPPLY_COMP(EP_CODE,EP_NAME,EM_ADDR,EP_PHONE,EP_CHARGE,REG_DATE) VALUES('00005','공급업체E','광주시','555-555-5555','허균','2017-02-17');


CREATE TABLE PRODUCTS (
	PNUM INT NOT NULL AUTO_INCREMENT,
	CATEGORY_FK VARCHAR(8) NOT NULL ,
	PRODUCTS_NAME VARCHAR(50) NOT NULL,
	EP_CODE_FK VARCHAR(5) NOT NULL,
	INPUT_PRICE INT NOT NULL,
	OUTPUT_PRICE INT NOT NULL,
	TRANS_COST INT NOT NULL,
	MILEAGE INT NOT NULL,
	COMPANY VARCHAR(30) NOT NULL,
	STATUS CHAR(1) NOT NULL,
	PRIMARY KEY ( PNUM )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;

INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00010001','벽걸이 TV','00001','5000000','8000000','0','100000','A','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00010001','D TV','00002','300000','400000','0','0','N','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00010004','에어컨','00001','1000000','1500000','5000','100000','A','2');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00010000','밥솥','00003','200000','200000','5000','0','B','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00010004','컴퓨터','00003','1200000','1300000','0','0','C','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00020001','남성남방','00002','100000','150000','0','0','','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00020001','여성남방','00002','120000','200000','0','0','','3');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00020002','운동화','00002','70000','90000','0','0','A','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00020003','구두','00001','100000','130000','0','0','','1');
INSERT INTO PRODUCTS(CATEGORY_FK,PRODUCTS_NAME,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,COMPANY,STATUS) VALUES('00030001','가방','00003','150000','300000','2000','0','D','1');


CREATE TABLE MALL_ORDER (
	ORDER_NUM INT NOT NULL AUTO_INCREMENT,
	ID_FK VARCHAR(15) NOT NULL ,
	PRODUCTS_CODE_FK VARCHAR(10) NOT NULL,
	EP_CODE_FK VARCHAR(5) NOT NULL,
	INPUT_PRICE INT NOT NULL,
	OUTPUT_PRICE INT NOT NULL,
	TRANS_COST INT NOT NULL,
	MILEAGE INT NOT NULL,
	REAL_AMOUNT INT NOT NULL,
	MILEAGE_USE INT NOT NULL,
	PAYMENT_TYPE VARCHAR(5) NOT NULL,
	PAYMENT_STATUS CHAR(1) NOT NULL,
	BUYER_NAME VARCHAR(15) NOT NULL,
	BUYER_PHONE VARCHAR(15) NOT NULL,
	RECIPIENT_NAME VARCHAR(15) NOT NULL,
	RECIPIENT_PHONE VARCHAR(15) NOT NULL,
	RECIPIENT_ADDRESS VARCHAR(100) NOT NULL,
	PRIMARY KEY ( ORDER_NUM )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;

INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id3','3','00001',30000,40000,4000,2000,60000,0,'CARD','2','박문수','111-111-1111','박문수','111-111-1111','부산시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id3','5','00002',50000,80000,8000,0,60000,20000,'PHONE','2','박문수','111-111-1111','박문수','111-111-1111','부산시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id4','3','00001',30000,40000,4000,2000,60000,0,'CARD','3','이순신','111-222-2222','이순신','111-222-2222','대전시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id3','7','00004',4000,7000,7000,2000,9000,0,'CARD','2','박문수','111-333-3333','박문수','111-333-3333','서울시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id5','3','00001',30000,40000,40000,2000,60000,0,'BANK','4','홍길동','111-111-1111','홍길동','111-111-1111','부산시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id5','1','00002',15000,30000,30000,2000,30000,2000,'CARD','2','홍길동','111-333-3333','홍길동','111-333-3333','서울시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id7','8','00003',150000,200000,200000,0,200000,0,'BANK','3','서화담','111-333-3333','서화담','111-333-3333','서울시');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id10','5','00002',50000,80000,80000,0,80000,0,'BANK','2','황진희','111-444-4444','황진희','111-444-4444','강원도');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id10','3','00001',30000,40000,40000,2000,60000,0,'PHONE','2','황진희','111-444-4444','황진희','111-444-4444','강원도');
INSERT INTO MALL_ORDER(ID_FK,PRODUCTS_CODE_FK,EP_CODE_FK,INPUT_PRICE,OUTPUT_PRICE,TRANS_COST,MILEAGE,REAL_AMOUNT,MILEAGE_USE,PAYMENT_TYPE,PAYMENT_STATUS,BUYER_NAME,BUYER_PHONE,RECIPIENT_NAME,RECIPIENT_PHONE,RECIPIENT_ADDRESS) VALUES('id10','7','00004',4000,7000,7000,2000,8000,1000,'PHONE','2','황진희','111-111-1111','황진희','111-111-1111','강원도');



CREATE TABLE MALL_CART (
	CART_NUM INT NOT NULL AUTO_INCREMENT,
	SESSION_ID VARCHAR(15) NOT NULL ,
	PRODUCTS_CODE_FK VARCHAR(10) NOT NULL,
	VOLUME INT NOT NULL,
	CART_CREATED DATE,
	PRIMARY KEY ( CART_NUM )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;

INSERT INTO MALL_CART(SESSION_ID,PRODUCTS_CODE_FK,VOLUME,CART_CREATED) VALUES('ABCDEF','3',1,'2017-05-07');
INSERT INTO MALL_CART(SESSION_ID,PRODUCTS_CODE_FK,VOLUME,CART_CREATED) VALUES('ABCDEF','3',1,'2017-05-07');
INSERT INTO MALL_CART(SESSION_ID,PRODUCTS_CODE_FK,VOLUME,CART_CREATED) VALUES('FEDCBA','2',3,'2017-05-07');
INSERT INTO MALL_CART(SESSION_ID,PRODUCTS_CODE_FK,VOLUME,CART_CREATED) VALUES('ABCDEF','5',2,'2017-05-07');
INSERT INTO MALL_CART(SESSION_ID,PRODUCTS_CODE_FK,VOLUME,CART_CREATED) VALUES('DDABDD','3',1,'2017-05-07');

CREATE TABLE MILEAGE (
	M_NUM INT NOT NULL AUTO_INCREMENT,
	ID_FK VARCHAR(15) NOT NULL ,
	MILEAGE_CHK CHAR(1) NOT NULL ,
	MILEAGE_AMT INT NOT NULL,
	PRODUCTS_CODE_FK VARCHAR(10) NOT NULL,
	MILEAGE_DESC VARCHAR(20) NOT NULL,
	MILEAGE_CREATED DATE NOT NULL,
	PRIMARY KEY ( M_NUM )
) ENGINE=InnoDB DEFAULT CHARSET=euckr;

INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id3','1',200,'2','상품 구매','2017-04-01');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id3','2',-1000,'5','상품 구매시 사용','2017-02-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id4','1',5000,'7','상품 구매','2016-02-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id3','1',9000,'3','상품 구매','2017-04-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id5','1',4300,'8','상품 구매','2017-02-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id5','2',-2000,'6','상품 구매시 사용','2016-05-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id7','1',6000,'2','상품 구매','2017-02-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id10','1',14000,'5','상품 구매','2017-02-03');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id10','2',-1500,'5','상품 구매시 사용','2017-02-18');
INSERT INTO MILEAGE(ID_FK,MILEAGE_CHK,MILEAGE_AMT,PRODUCTS_CODE_FK,MILEAGE_DESC,MILEAGE_CREATED) VALUES('id10','3',-2500,'4','상품 구매시 사용','2017-05-03');
































